global  _top_main
global  ncsv, cret, indir
global  _InitOverlays
global  _fatalErr
global  _Init512Banks
global  _pflag
global  _wflag
global  _rflag
global  _bflag
global  _eflag
global  _hflag
global  wrelop
global  wrelop
global  _freopen
global  __iob
global  wrelop
psect   top
_top_main:
global csv
call csv
call    _InitOverlays
ld      a,l
or      a
jp      nz,l11
ld      hl,19f
push    hl
call    _fatalErr
pop     bc
l11:
call    _Init512Banks
ld      l,(ix+6)
ld      h,(ix+7)
dec     hl
ld      (ix+6),l
ld      (ix+7),h
ld      l,(ix+8)
ld      h,(ix+9)
inc     hl
inc     hl
ld      (ix+8),l
ld      (ix+9),h
jp      l12
l13:
ld      l,(ix+8)
ld      h,(ix+9)
ld      a,(hl)
inc     hl
ld      h,(hl)
ld      l,a
inc     hl
ld      a,(hl)
cp      66
jp      z,l22
cp      69
jp      z,l23
cp      72
jp      z,l24
cp      80
jp      z,l18
cp      82
jp      z,l21
cp      87
jp      z,l20
cp      112
jp      z,l18
cp      119
jp      z,l20
ld      l,(ix+8)
ld      h,(ix+9)
ld      a,(hl)
inc     hl
ld      h,(hl)
ld      l,a
inc     hl
ld      a,(hl)
ld      l,a
rla
sbc     a,a
ld      h,a
push    hl
ld      hl,29f
push    hl
call    _fatalErr
pop     bc
pop     bc
l15:
ld      l,(ix+8)
ld      h,(ix+9)
inc     hl
inc     hl
ld      (ix+8),l
ld      (ix+9),h
ld      l,(ix+6)
ld      h,(ix+7)
dec     hl
ld      (ix+6),l
ld      (ix+7),h
l12:
ld      e,(ix+6)
ld      d,(ix+7)
ld      hl,0
call    wrelop
jp      m,L2
jp      l14
l18:
ld      a,1
ld      (_pflag),a
jp      l15
l20:
ld      a,1
ld      (_wflag),a
jp      l15
l21:
ld      a,1
ld      (_rflag),a
jp      l15
l22:
ld      a,1
ld      (_bflag),a
jp      l15
l23:
ld      a,1
ld      (_eflag),a
jp      l15
l24:
ld      a,1
ld      (_hflag),a
jp      l15
L2:
ld      l,(ix+8)
ld      h,(ix+9)
ld      a,(hl)
inc     hl
ld      h,(hl)
ld      l,a
ld      a,(hl)
cp      45
jp      z,l13
l14:
ld      e,(ix+6)
ld      d,(ix+7)
dec     de
ld      (ix+6),e
ld      (ix+7),d
inc     de
ld      hl,0
call    wrelop
jp      p,cret
ld      hl,__iob
push    hl
ld      hl,39f
push    hl
ld      l,(ix+8)
ld      h,(ix+9)
ld      c,(hl)
inc     hl
ld      b,(hl)
push    bc
call    _freopen
pop     bc
pop     bc
pop     bc
ld      a,l
or      h
jp      nz,l27
ld      l,(ix+8)
ld      h,(ix+9)
ld      c,(hl)
inc     hl
ld      b,(hl)
push    bc
ld      hl,49f
push    hl
call    _fatalErr
pop     bc
pop     bc
jp      cret
l27:
ld      e,(ix+6)
ld      d,(ix+7)
ld      hl,0
call    wrelop
jp      p,cret
ld      hl,__iob+8
push    hl
ld      hl,59f
push    hl
ld      l,(ix+8)
ld      h,(ix+9)
inc     hl
inc     hl
ld      c,(hl)
inc     hl
ld      b,(hl)
push    bc
call    _freopen
pop     bc
pop     bc
pop     bc
ld      a,l
or      h
jp      nz,cret
ld      l,(ix+8)
ld      h,(ix+9)
inc     hl
inc     hl
ld      c,(hl)
inc     hl
ld      b,(hl)
push    bc
ld      hl,69f
push    hl
call    _fatalErr
jp      cret
global  _vars
_vars:
defw    79f
defw    2
defw    0
defb    1
defw    89f
defw    2
defw    0
defb    1
defw    99f
defw    1
defw    0
defb    1
defw    109f
defw    4
defw    0
defb    1
defw    119f
defw    2
defw    0
defb    2
defw    129f
defw    2
defw    0
defb    2
defw    139f
defw    1
defw    0
defb    2
defw    149f
defw    4
defw    0
defb    2
defw    159f
defw    4
defw    0
defb    3
defw    169f
defw    4
defw    0
defb    3
defw    179f
defw    2
defw    0
defb    1
defw    189f
defw    2
defw    0
defb    2
defw    199f
defw    0
defw    0
defb    0
defw    209f
defw    0
defw    0
defb    0
global  _sub_1680
global  _blkclr
global  _hashtab
global  _sub_265
global  _PutByte
global  _PutWord
global  _typeLong
global  _typeDouble
global  _typeB
global  _typeVar
global  _typeChar
global  _typeUChar
global  _typeX
global  _lvlidx
_sub_1680:
global csv
call csv
push hl
push hl
ld      hl,202
push    hl
ld      hl,_hashtab
push    hl
call    _blkclr
pop     bc
pop     bc
ld      (ix+-4),14
ld      (ix+-3),0
ld      iy,_vars
l34:
ld      l,(iy+0)
ld      h,(iy+1)
push    hl
call    _sub_265
ld      (ix+-2),l
ld      (ix+-1),h
ld      l,65
ex      (sp),hl
ld      hl,2
push    hl
ld      l,(ix+-2)
ld      h,(ix+-1)
push    hl
call    _PutByte
pop     bc
pop     bc
ld      l,(iy+4)
ld      h,(iy+5)
ex      (sp),hl
ld      hl,17
push    hl
ld      l,(ix+-2)
ld      h,(ix+-1)
push    hl
call    _PutWord
pop     bc
pop     bc
ld      l,(iy+2)
ld      h,(iy+3)
ex      (sp),hl
ld      hl,9
push    hl
ld      l,(ix+-2)
ld      h,(ix+-1)
push    hl
call    _PutWord
pop     bc
pop     bc
ld      l,(iy+6)
ex      (sp),hl
ld      hl,21
push    hl
ld      l,(ix+-2)
ld      h,(ix+-1)
push    hl
call    _PutByte
pop     bc
pop     bc
pop     bc
ld      de,7
add     iy,de
ld      l,(ix+-4)
ld      h,(ix+-3)
dec     hl
ld      (ix+-4),l
ld      (ix+-3),h
ld      a,l
or      h
jp      nz,l34
ld      hl,219f
push    hl
call    _sub_265
ld      (_typeLong),hl
ld      hl,229f
ex      (sp),hl
call    _sub_265
ld      (_typeDouble),hl
ld      hl,239f
ex      (sp),hl
call    _sub_265
ld      (_typeB),hl
ld      hl,249f
ex      (sp),hl
call    _sub_265
ld      (_typeVar),hl
ld      hl,259f
ex      (sp),hl
call    _sub_265
ld      (_typeChar),hl
ld      hl,269f
ex      (sp),hl
call    _sub_265
ld      (_typeUChar),hl
ld      hl,279f
ex      (sp),hl
call    _sub_265
ld      (_typeX),hl
ld      hl,-1
ld      (_lvlidx),hl
jp      cret
global  _main
global  _parseStmt
global  _fclose
global  _prError
global  _errcnt
psect text
_main:
global csv
call csv
ld      l,(ix+8)
ld      h,(ix+9)
push    hl
ld      l,(ix+6)
ld      h,(ix+7)
push    hl
call    _top_main
pop     bc
pop     bc
call    _sub_1680
call    _parseStmt
ld      hl,__iob+8
push    hl
call    _fclose
pop     bc
ld      de,-1
or      a
sbc     hl,de
jp      nz,l36
ld      hl,289f
push    hl
call    _prError
pop     bc
l36:
ld      hl,(_errcnt)
ld      a,l
or      h
ld      hl,1
jp      nz,cret
dec     hl
jp      cret
global  _prMsg
global  _quit
_fatalErr:
global csv
call csv
ld      l,(ix+10)
ld      h,(ix+11)
push    hl
ld      l,(ix+8)
ld      h,(ix+9)
push    hl
ld      l,(ix+6)
ld      h,(ix+7)
push    hl
call    _prMsg
pop     bc
pop     bc
ld      hl,__iob+8
ex      (sp),hl
call    _fclose
ld      hl,2
ex      (sp),hl
call    _quit
jp      cret
global  _prWarning
_prWarning:
global csv
call csv
ld      a,(_wflag)
or      a
jp      nz,cret
ld      l,(ix+10)
ld      h,(ix+11)
push    hl
ld      l,(ix+8)
ld      h,(ix+9)
push    hl
ld      l,(ix+6)
ld      h,(ix+7)
push    hl
call    _prMsg
jp      cret
global  wrelop
_prError:
global csv
call csv
ld      l,(ix+10)
ld      h,(ix+11)
push    hl
ld      l,(ix+8)
ld      h,(ix+9)
push    hl
ld      l,(ix+6)
ld      h,(ix+7)
push    hl
call    _prMsg
pop     bc
pop     bc
pop     bc
ld      de,30
ld      hl,(_errcnt)
inc     hl
ld      (_errcnt),hl
call    wrelop
jp      m,cret
ld      hl,299f
push    hl
call    _fatalErr
jp      cret
global  _fprintf
global  _progname
global  _lineno
global  _fputc
_prMsg:
global csv
call csv
ld      hl,(_lineno)
push    hl
ld      hl,_progname
push    hl
ld      hl,309f
push    hl
ld      hl,__iob+16
push    hl
call    _fprintf
pop     bc
pop     bc
pop     bc
ld      l,(ix+10)
ld      h,(ix+11)
ex      (sp),hl
ld      l,(ix+8)
ld      h,(ix+9)
push    hl
ld      l,(ix+6)
ld      h,(ix+7)
push    hl
ld      hl,__iob+16
push    hl
call    _fprintf
pop     bc
pop     bc
pop     bc
ld      hl,__iob+16
ex      (sp),hl
ld      hl,10
push    hl
call    _fputc
jp      cret
global  _allocMem
global  _malloc
global  _CallOverlay0
_allocMem:
global csv
call csv
l46:
ld      l,(ix+6)
ld      h,(ix+7)
push    hl
call    _malloc
pop     bc
push    hl
pop     iy
ld      a,l
or      h
jp      nz,l48
ld      l,37
push    hl
ld      hl,16462
push    hl
call    _CallOverlay0
pop     bc
pop     bc
ld      a,l
or      a
jp      nz,l46
ld      hl,319f
push    hl
call    _fatalErr
pop     bc
l48:
ld      l,(ix+6)
ld      h,(ix+7)
push    hl
push    iy
call    _blkclr
pop     bc
pop     bc
push    iy
pop     hl
jp      cret
global  _MyAlloc
global  _alloc512
global  _ZeroFill
_MyAlloc:
global csv
call csv
ld      l,(ix+6)
ld      h,(ix+7)
push    hl
call    _alloc512
pop     bc
push    hl
pop     iy
ld      a,l
or      h
jp      z,l50
ld      l,(ix+6)
ld      h,(ix+7)
push    hl
push    iy
call    _ZeroFill
pop     bc
pop     bc
push    iy
pop     hl
jp      cret
l50:
ld      hl,329f
push    hl
call    _fatalErr
pop     bc
ld      hl,0
jp      cret
global  _fgetchar
global  _fgetc
_fgetchar:
ld      hl,__iob
push    hl
call    _fgetc
pop     bc
ret
global  _fputchar
_fputchar:
global csv
call csv
ld      hl,__iob+8
push    hl
ld      l,(ix+6)
ld      h,(ix+7)
push    hl
call    _fputc
jp      cret
psect   data
19:
defb    67,97,110,39,116,32,111,112,101,110,32,111,118,101,114,108
defb    97,121,115,0
29:
defb    73,108,108,101,103,97,108,9,115,119,105,116,99,104,32,37
defb    99,0
39:
defb    114,0
49:
defb    67,97,110,39,116,32,111,112,101,110,32,37,115,0
59:
defb    119,0
69:
defb    67,97,110,39,116,32,99,114,101,97,116,101,32,37,115,0
79:
defb    105,0
89:
defb    115,0
99:
defb    99,0
109:
defb    108,0
119:
defb    117,105,0
129:
defb    117,115,0
139:
defb    117,99,0
149:
defb    117,108,0
159:
defb    102,0
169:
defb    100,0
179:
defb    120,0
189:
defb    117,120,0
199:
defb    98,0
209:
defb    118,0
219:
defb    108,0
229:
defb    100,0
239:
defb    98,0
249:
defb    118,0
259:
defb    99,0
269:
defb    117,99,0
279:
defb    120,0
289:
defb    69,114,114,111,114,32,99,108,111,115,105,110,103,32,111,117
defb    116,112,117,116,32,102,105,108,101,0
299:
defb    84,111,111,32,109,97,110,121,32,101,114,114,111,114,115,0
309:
defb    37,115,58,37,100,58,9,0
319:
defb    79,117,116,32,111,102,32,109,101,109,111,114,121,32,105,110
defb    32,108,111,119,101,114,32,82,65,77,0
329:
defb    79,117,116,32,111,102,32,109,101,109,111,114,121,32,105,110
defb    32,117,112,112,101,114,32,82,65,77,0
psect   text
